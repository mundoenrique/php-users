!function(e){"use strict";e.widget("ju.sliderbutton",{options:{text:"activate",direction:"right",tolerance:1,releaseToActivate:!0,opacity:function(e){return 1-e/50}},_checkSliderPosAndActivate:function(e,t){var i=this;i.activated===!1&&("right"===i.options.direction&&t.value>=100-i.options.tolerance||"left"===i.options.direction&&t.value<=0+i.options.tolerance)&&(i._trigger("activate",e,t),i.activated=!0)},_create:function(){var t=this;t.element.empty(),t.element.addClass("ju-sliderbutton"),t.options.disabled===!0&&t.element.addClass("ui-state-disabled");var i=e("<span></span>").addClass("ju-sliderbutton-text").text(t.options.text),s=e("<div></div>").addClass("ju-sliderbutton-slider"),a=e("<div></div>").addClass("ui-slider-handle");s.append(a),t.element.append(i),t.element.append(s);var n=0;"left"===t.options.direction&&(t.element.addClass("ju-sliderbutton-left"),n=100),e.extend(t,{slider:s,handle:a,text:i,activated:!1}),s.slider({animate:!0,value:n,disabled:t.options.disabled,slide:function(e,i){var s=t._trigger("slide",e,i);return s!==!1&&(t.text.css("opacity",t.options.opacity("left"===t.options.direction?100-i.value:i.value)),t.options.releaseToActivate===!1&&t._checkSliderPosAndActivate(e,i)),s},stop:function(e,i){t.options.releaseToActivate!==!1&&t._checkSliderPosAndActivate(e,i),t._trigger("stop",e,i),t._reset("fast")},start:function(e,i){return t._trigger("start",e,i)}}),s.find(".ui-slider-handle").unbind("keydown").unbind("keyup")},_reset:function(e){function t(){i.slider.slider("value",s)}var i=this;i.activated=!1;var s;"right"===i.options.direction?s=0:"left"===i.options.direction&&(s=100),void 0===e||null===e||"number"!=typeof e&&"string"!=typeof e?(i.handle.css("left",s+"%"),t(),i.text.css("opacity",i.options.opacity(0))):(i.handle.animate({left:s+"%"},e,t),i.text.animate({opacity:i.options.opacity(0)},e))},destroy:function(){var e=this;e.slider.slider("destroy"),e.element.empty(),e.element.removeClass("ju-sliderbutton ju-sliderbutton-left")},_setOption:function(t,i){var s=this;switch(e.Widget.prototype._setOption.apply(s,arguments),t){case"text":s.text.text(i);break;case"disabled":i===!0?(s.slider.slider("disable").removeClass("ui-state-disabled"),s.element.addClass("ui-state-disabled"),s.element.attr("disabled",!0),s.text.css("opacity","")):i===!1&&(s.slider.slider("enable"),s.element.attr("disabled",!1),s.element.removeClass("ui-state-disabled"));break;case"direction":"right"===i?s.element.removeClass("ju-sliderbutton-left"):"left"===i&&s.element.addClass("ju-sliderbutton-left"),s._reset()}}})}(jQuery);