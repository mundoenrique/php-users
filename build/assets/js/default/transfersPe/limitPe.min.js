$(function(){operationType="P2P",$("#updateAmount").on("click",function(){jQuery.validator.setDefaults({debug:!0,success:"valid"}),jQuery.validator.addMethod("tokenValid",function(e,a){var t=/^[a-zA-Z0-9]+$/,r=a.value;return!!t.test(r)}),$("#form-amount").validate({errorElement:"label",ignore:"",errorContainer:"#msg-history",errorClass:"field-error",validClass:"field-success",errorLabelContainer:"#msg-history",rules:{password:{required:!0},amount:{required:!0}},messages:{password:{required:"La clave de acceso no puede estar vacia"},amount:{required:"Debe seleccionar un monto base"}},submitHandler:function(e){var a={codigo:$("#amount").val(),monto:$('select[name="amount"] option:selected').attr("monto"),clave:hex_md5($("#password").val())},t=$.param(a),r=decodeURIComponent(document.cookie.replace(/(?:(?:^|.*;\s*)cpo_cook\s*\=\s*([^;]*).*$)|^.*$/,"$1")),o=JSON.stringify({data:t,model:"setAmount"});return o=CryptoJS.AES.encrypt(o,r,{format:CryptoJSAesJson}).toString(),$.ajax({url:base_url+"/transferencia/peGeneral",type:"post",data:{request:o,cpo_name:r,plot:btoa(r)},datatype:"JSON",success:function(e){switch(data=JSON.parse(CryptoJS.AES.decrypt(e.code,e.plot,{format:CryptoJSAesJson}).toString(CryptoJS.enc.Utf8)),data.code){case 0:msgService(data.title,data.msg,data.modalType,1);break;case 2:$(location).attr("href",base_url+"/users/error_gral");break;default:msgService(data.title,data.msg,data.modalType,1)}}}),!1}})})});