$(function(){operationType="P2P",$("#updateAmount").on("click",function(){jQuery.validator.setDefaults({debug:!0,success:"valid"}),jQuery.validator.addMethod("tokenValid",function(e,a){var r=/^[a-zA-Z0-9]+$/,o=a.value;return!!r.test(o)}),$("#form-amount").validate({errorElement:"label",ignore:"",errorContainer:"#msg-history",errorClass:"field-error",validClass:"field-success",errorLabelContainer:"#msg-history",rules:{password:{required:!0},amount:{required:!0}},messages:{password:{required:"La clave de acceso no puede estar vacia"},amount:{required:"Debe seleccionar un monto base"}},submitHandler:function(e){var a={codigo:$("#amount").val(),monto:$('select[name="amount"] option:selected').attr("monto"),clave:hex_md5($("#password").val())},r=$.param(a),o=decodeURIComponent(document.cookie.replace(/(?:(?:^|.*;\s*)cpo_cook\s*\=\s*([^;]*).*$)|^.*$/,"$1"));return $.ajax({url:base_url+"/transferencia/peGeneral",type:"post",data:{data:r,model:"setAmount",cpo_name:o},datatype:"JSON",success:function(e){switch(e.code){case 0:msgService(e.title,e.msg,e.modalType,1);break;case 2:$(location).attr("href",base_url+"/users/error_gral");break;default:msgService(e.title,e.msg,e.modalType,1)}}}),!1}})})});