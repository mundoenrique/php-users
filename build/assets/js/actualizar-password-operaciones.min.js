var path,base_cdn;path=window.location.href.split("/"),base_cdn=path[0]+"//"+path[2].replace("online","cdn")+"/"+path[3],base_url=path[0]+"//"+path[2]+"/"+path[3],$(function(){var a=$("#transpwd").val(),l=$("#new-transpwd").val(),i=$("confirm-new-transpwd").val();$("#new-transpwd").keyup(function(){var a=$(this).val();a.length<8||a.length>15?($("#length").removeClass("rule-valid").addClass("rule-invalid"),longitud=!1):($("#length").removeClass("rule-invalid").addClass("rule-valid"),longitud=!0),a.match(/[A-z]/)?($("#letter").removeClass("rule-invalid").addClass("rule-valid"),mt=!0):($("#letter").removeClass("rule-valid").addClass("rule-invalid"),mt=!1),a.match(/[A-Z]/)?($("#capital").removeClass("rule-invalid").addClass("rule-valid"),cap=!0):($("#capital").removeClass("rule-valid").addClass("rule-invalid"),cap=!1),!a.match(/((\w|[!@#$%])*\d(\w|[!@#$%])*\d(\w|[!@#$%])*\d(\w|[!@#\$%])*\d(\w|[!@#$%])*(\d)*)/)&&a.match(/\d{1}/)?($("#number").removeClass("rule-invalid").addClass("rule-valid"),car=!0):($("#number").removeClass("rule-valid").addClass("rule-invalid"),car=!1),a.match(/(.)\1{2,}/)?($("#consecutivo").removeClass("rule-valid").addClass("rule-invalid"),cons=!1):($("#consecutivo").removeClass("rule-invalid").addClass("rule-valid"),cons=!0),a.match(/([!@\*\-\?¡¿+\/.,_#])/)?($("#especial").removeClass("rule-invalid").addClass("rule-valid"),esp=!0):($("#especial").removeClass("rule-valid").addClass("rule-invalid"),esp=!1),1==longitud&&1==mt&&1==cap&&1==car&&1==cons&&1==esp?$("#continuar").removeClass("disabled-button"):$("#continuar").addClass("disabled-button")}).focus(function(){$("#new").showBalloon({position:"right",contents:$("#psw_info")}),$("#psw_info").show()}).blur(function(){$("#new").hideBalloon({position:"right",contents:$("#psw_info")}),$("#psw_info").hide()}),$("#continuar").click(function(){a=$("#transpwd").val(),l=$("#new-transpwd").val(),i=$("#confirm-new-transpwd").val(),valor1=!0,valor2=!0,valor3=!0,(""==a||""==l||""==i)&&(valor1=!1,$("#dialog-clave-inv").dialog({modal:"true",width:"440px",open:function(a,l){$(".ui-dialog-titlebar-close",l.dialog).hide()}}),$("#invalido").click(function(){$("#dialog-clave-inv").dialog("close")})),l==a&&(valor2=!1,$("#dialog-clave-inv1").dialog({modal:"true",width:"440px",open:function(a,l){$(".ui-dialog-titlebar-close",l.dialog).hide()}}),$("#invalido1").click(function(){$("#dialog-clave-inv1").dialog("close")})),l!=i&&(valor3=!1,$("#dialog-clave-inv2").dialog({modal:"true",width:"440px",open:function(a,l){$(".ui-dialog-titlebar-close",l.dialog).hide()}}),$("#invalido2").click(function(){$("#dialog-clave-inv2").dialog("close")})),1==valor1&&1==valor2&&1==valor3&&($("#continuar").removeClass("disabled-button"),$.post(base_url+"/users/passwordOperacionesActualizar",{passwordOperacionesOld:a,passwordOperaciones:l},function(a){0==a.rc&&($("#content").children().remove(),$("#content").append($("#confirmaActualizar").removeAttr("style")).html(),$("#confirmar").click(function(){$(location).attr("href",base_url+"/perfil")})),-202==a.rc&&($("#content").children().remove(),$("#content").append($("#sinExito").removeAttr("style")).html(),$("#regresar").click(function(){$(location).attr("href",base_url+"/users/actualizarPasswordOperaciones")})),-61==a.rc&&$(location).attr("href",base_url+"/users/error_gral"),-22==a.rc&&($("#dialog-clave-inv3").dialog({modal:"true",width:"440px",open:function(a,l){$(".ui-dialog-titlebar-close",l.dialog).hide()}}),$("#invalido3").click(function(){$("#transpwd").val(""),$("#dialog-clave-inv3").dialog("close")}))}))}),$(".label-inline").on("click","a",function(){$("#dialog-tc").dialog({modal:"true",width:"940px",open:function(a,l){$(".ui-dialog-titlebar-close",l.dialog).hide()}}),$("#ok").click(function(){$("#dialog-tc").dialog("close")})})});