function msgService(e,o,a,r){$("#registrar").fadeIn(),$("#dialogo-movil").dialog({title:e,modal:"true",width:"440px",open:function(e,r){$(".ui-dialog-titlebar-close",r.dialog).hide(),$("#modalType").addClass(a),$("#msgService").html(o)}}),$("#inva5").click(function(){$("#dialogo-movil").dialog("close"),1==r&&$(location).attr("href",base_url)})}var base_url,base_cdn,pais,digVer="",aplicaPerfil=0,fecha=new Date,base_url,base_cdn;base_url=$("body").attr("data-app-url"),base_cdn=$("body").attr("data-app-cdn"),$(function(){function e(){var e=$("#dia").val(),o=$("#mes option:selected").val(),a=$("#ano").val();return""!=e&&""!=o&&""!=a?a<anioMayorEdad?($("#fecha-de-nacimiento").val(e+"/"+o+"/"+a),$("#dia").removeClass("field-error").addClass("field-success"),$("#mes").removeClass("field-error").addClass("field-success"),$("#ano").removeClass("field-error").addClass("field-success"),!0):a==anioMayorEdad&&(o<mesActual?($("#fecha-de-nacimiento").val(e+"/"+o+"/"+a),$("#dia").removeClass("field-error").addClass("field-success"),$("#mes").removeClass("field-error").addClass("field-success"),$("#ano").removeClass("field-error").addClass("field-success"),!0):o==mesActual&&(e<=diaActual&&($("#fecha-de-nacimiento").val(e+"/"+o+"/"+a),$("#dia").removeClass("field-error").addClass("field-success"),$("#mes").removeClass("field-error").addClass("field-success"),$("#ano").removeClass("field-error").addClass("field-success"),!0))):""!=e||""!=o||""!=a?($("#dia").removeClass("field-error").addClass("field-success"),$("#mes").removeClass("field-error").addClass("field-success"),$("#ano").removeClass("field-error").addClass("field-success"),!0):void 0}function o(e,o){$.post(base_url+"/registro/listadoDepartamento",{pais:o,subRegion:e},function(e){0==e.rc&&($("#provincia").empty().append("<option value=''>Seleccione</option>"),$.each(e.listaSubRegiones,function(e,o){var a;a="<option value="+o.codregion+"> "+o.region+" </option>",$("#provincia").append(a)}))}),$("#provincia").change(function(){$("#distrito").empty().append("<option value=''>Cargando...</option>"),""!=this.value?a(this.value,o):$("#distrito").empty().append("<option value=''>-</option>")})}function a(e,o){$.post(base_url+"/registro/listadoDepartamento",{pais:o,subRegion:e},function(e){0==e.rc&&($("#distrito").empty().append("<option value=''>Seleccione</option>"),$.each(e.listaSubRegiones,function(e,o){var a;a="<option value="+o.codregion+"> "+o.region+" </option>",$("#distrito").append(a)}))})}function r(){$("#ocupacion-laboral").empty().append("<option value=''>Cargando...</option>"),$.post(base_url+"/registro/ListadoProfesiones",{pais:country},function(e){0==e.rc&&($("#ocupacion-laboral").empty().append("<option value=''>Seleccione</option>"),$.each(e.listaProfesiones,function(e,o){var a;a="<option value="+o.idProfesion+"> "+o.tipoProfesion+" </option>",$("#ocupacion-laboral").append(a)}))})}function i(){$.post(base_url+"/registro/listado",function(e){$.each(e.listaPaises,function(e,o){var a;a="<option value="+o.cod_pais+"> "+o.nombre_pais+" </option>",$("#iso").append(a)})})}function n(){var e=$("#dia").val(),o=$("#mes option:selected").val();return 31==e&&2==o||30==e&&2==o||29==e&&2==o||31==e&&4==o||31==e&&6==o||31==e&&9==o||31==e&&11==o?($("#dia").removeClass("field-success").addClass("field-error"),$("#mes").removeClass("field-success").addClass("field-error"),!1):($("#dia").removeClass("field-error").addClass("field-success"),$("#mes").removeClass("field-error").addClass("field-success"),!0)}function l(e,o){return!e.match(/[^a-z ñáéíóú \s]/gi)}function t(e,o){return!e.match(/[^a-z ñáéíóú 0-9 \s]/gi)}function s(){jQuery.validator.setDefaults({debug:!0,success:"valid"}),jQuery.validator.addMethod("numberEqual1",function(e,o){return!(o.value.length>0)||o.value!=$("#telefonoFijo").val()&&o.value!=$("#telefonoMovil").val()},"Teléfono Otro está repetido"),jQuery.validator.addMethod("numberEqual2",function(e,o){return!(o.value.length>0)||o.value!=$("#telefonoMovil").val()&&o.value!=$("#otroTelefonoNum").val()},"Teléfono Fijo está repetido"),jQuery.validator.addMethod("numberEqual3",function(e,o){return!(o.value.length>0)||o.value!=$("#telefonoFijo").val()&&o.value!=$("#otroTelefonoNum").val()},"Teléfono Movil está repetido"),jQuery.validator.addMethod("username",function(e,o,a){return a.test(e)},"Usuario invalido. "),jQuery.validator.addMethod("mayorEdadAnio",function(o,a){var r=e();return 1==r||0!=r&&void 0},"Usted no es mayor de edad "),jQuery.validator.addMethod("fecha_invalida",function(e,o){var a=n();return 1==a||0!=a&&void 0},"Fecha invalida. "),jQuery.validator.addMethod("expresionRegular",function(e,o){var a=l(e,o);return 1==a||0!=a&&void 0},"Usted. "),jQuery.validator.addMethod("expresionRegular2",function(e,o){var a=t(e,o);return 1==a||0!=a&&void 0},"Usted. "),jQuery.validator.addMethod("mail",function(e,o,a){return a.test(e)},"Correo invalido. "),jQuery.validator.addMethod("digValido",function(e,o,a){return e==digVer}),$("#form-validar").validate({errorElement:"label",ignore:"",errorContainer:"#msg",errorClass:"field-error",validClass:"field-success",errorLabelContainer:"#msg",rules:{"card-holder-pin":{required:!0},"card-number":{required:!0,number:!0,minlength:16,maxlength:16},"card-holder-id":{required:!0,number:!0},iso:{required:!0},"accept-terms":{required:!0}},messages:{"card-holder-pin":"Debe introducir la clave secreta o clave web de su tarjeta","card-number":"Debe introducir un número de tarjeta","card-holder-id":"Debe introducir el número de su documento de identidad",iso:"Debe seleccionar su país","accept-terms":"Debe aceptar las Condiciones de Uso"}}),$("#form-usuario").validate({errorElement:"label",ignore:"",errorContainer:"#msg",errorClass:"field-error",validClass:"field-success",errorLabelContainer:"#msg2",rules:{tipo_identificacion:{required:!0},numero_identificacion:{required:!0,number:!0},"dig-ver":{required:!0,digits:!0,maxlength:1,digValido:!0},primer_nombre:{required:!0,expresionRegular:!0},segundo_nombre:{required:!1,expresionRegular:!0},primer_apellido:{required:!0,expresionRegular:!0},segundo_apellido:{required:!1,expresionRegular:!0},lugar_nacimiento:{required:!1,expresionRegular:!0},dia:{required:!0,number:!0,range:[1,31]},mes:{required:!0,number:!0,range:[1,12],fecha_invalida:!0},ano:{required:!0,number:!0,min:1900,mayorEdadAnio:!0},genero:{required:!1},edo_civil:{required:!1},nacionalidad:{required:!0,expresionRegular:!0},tipo_direccion:{required:!0},codigo_postal:{required:!1,digits:!0},pais_Residencia:{required:!0},departamento:{required:!0},provincia:{required:!0},distrito:{required:!0},direccion:{required:!0},correo:{required:!0,mail:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/},"confirm-correo":{required:!0,mail:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/,equalTo:"#email"},telefono_fijo:{number:!0,numberEqual2:!0,minlength:7,maxlength:11},telefono_movil:{required:!0,number:!0,numberEqual3:!0,minlength:7,maxlength:11},otro_tipo_telefono:{required:!1},otro_telefono_num:{number:!0,numberEqual1:!0,minlength:7,maxlength:11},ruc_laboral:{required:!0},centro_laboral:{required:!0},situacion_laboral:{required:!1},ocupacion_laboral:{required:!0},cargo_laboral:{expresionRegular:!0},ingreso:{required:!1,number:!0},desem_publico:{required:!0},cargo_publico:{required:!0,expresionRegular:!0},institucion:{required:!0,expresionRegular2:!0},uif:{required:!0},username:{required:!0,nowhitespace:!0,username:/^[a-z0-9_-]{6,16}$/i},userpwd:{required:!0,minlength:8,maxlength:15},confirm_userpwd:{required:!0,minlength:8,maxlength:15,equalTo:"#userpwd"},contrato:{required:!0}},messages:{tipo_identificacion:"Debe Seleccionar su Tipo de Identificación.",numero_identificacion:"El campo Número de identificación NO puede estar vacío y debe contener solo números.","dig-ver":"Dígito verificador inválido.",primer_nombre:"El campo Primer Nombre NO puede estar vacío y debe contener solo letras.",segundo_nombre:"El campo Segundo Nombre debe contener solo letras.",primer_apellido:"El campo Apellido Paterno NO puede estar vacío y debe contener solo letras.",segundo_apellido:"El campo Apellido Materno debe contener solo letras.",lugar_nacimiento:"El campo Lugar de Nacimiento debe contener solo letras.",dia:{required:"El campo Día NO puede estar vacío y debe contener solo números.",number:"El campo Día NO puede estar vacío y debe contener solo números.",range:"El Día debe estar comprendido entre 1 y 31."},mes:{required:"El campo Mes NO puede estar vacío y debe contener solo números.",number:"El campo Mes NO puede estar vacío y debe contener solo números.",fecha_invalida:"Usted introdujo una fecha inválida."},ano:{required:"El campo Año NO puede estar vacío y debe contener solo números.",number:"El campo Año NO puede estar vacío y debe contener solo números.",min:"Por favor ingrese un Año de nacimiento válido."},nacionalidad:"El campo Nacionalidad NO puede estar vacío.",tipo_direccion:"El campo Tipo Dirección NO puede estar vacío",codigo_postal:"El campo Código Postal debe contener solo números.",pais_Residencia:"El campo País de Residencia NO puede estar vacío y debe contener solo letras.",departamento:"El campo Departamento NO puede estar vacío.",provincia:"El campo Provincia NO puede estar vacío.",distrito:"El campo Distrito NO puede estar vacío.",direccion:"El campo Dirección NO puede estar vacío.",correo:"El correo electrónico NO puede estar vacío y debe contener formato correcto. (usuario@ejemplo.com).","confirm-correo":"El campo confirmar correo electrónico debe coincidir con su correo electrónico.",telefono_fijo:{number:"El campo Teléfono Fijo debe contener solo números.",numberEqual2:"Teléfono Fijo está repetido.",minlength:"El campo Teléfono Fijo debe contener como mínimo 7 caracteres numéricos.",maxlength:"El campo Teléfono Fijo debe contener máximo 11 caracteres numéricos."},telefono_movil:{required:"El campo Teléfono Móvil NO puede estar vacío y debe contener solo números.",number:"El campo Teléfono Móvil NO puede estar vacío y debe contener solo números.",numberEqual3:"Teléfono Móvil está repetido.",minlength:"El campo Teléfono Móvil debe contener como mínimo 7 caracteres numéricos.",maxlength:"El campo Teléfono Móvil debe contener máximo 11 caracteres numéricos."},otro_telefono_num:{number:"El campo Otro Teléfono debe contener solo números.",numberEqual1:"El campo Otro Teléfono está repetido.",minlength:"El campo Otro Teléfono debe contener como minímo 7 caracteres númericos.",maxlength:"El campo Otro Teléfono  debe contener máximo 11 caracteres númericos."},ruc_laboral:"El campo Teléfono Móvil NO puede estar vacío.",centro_laboral:"El campo Centro Laboral NO puede estar vacío.",ocupacion_laboral:"El campo Ocupación Laboral NO puede estar vacío y debe contener solo letras.",cargo_laboral:"El campo Cargo Laboral debe contener solo letras.",ingreso:"El campo Ingreso promedio mensual debe contener solo números.",desem_publico:"El campo ¿Desempeñó cargo público en últimos 2 años? NO puede estar vacío.",cargo_publico:"El campo Cargo Público NO puede estar vacío y debe contener solo letras.",institucion:"El campo Institución NO puede estar vacío.",uif:"El campo ¿Es sujeto obligado a informar UIF-Perú, conforme al artículo 3° de la Ley N° 29038? NO puede estar vacío.",username:{required:"El campo Usuario NO puede estar vacío.",username:"El campo Usuario no tiene un formato valido. Permitido alfanumérico y underscore (barra_piso).",nowhitespace:"El campo Usuario no permite espacios en blanco."},userpwd:"El campo contraseña NO puede estar vacío.",confirm_userpwd:"El campo confirmar contraseña debe coincidir con su contraseña.",contrato:"Debe aceptar el contrato de cuenta dinero electrónico."}})}$(".transfers").hover(function(){$(".submenu-transfer").attr("style","display:block")},function(){$(".submenu-transfer").attr("style","display:none")}),$(".user").hover(function(){$(".submenu-user").attr("style","display:block")},function(){$(".submenu-user").attr("style","display:none")}),$("#birth-date").datepicker({onSelect:function(e){$("#birth-date").datepicker("option","maxDate",fecha)}}),$("#condiciones").on("click","a",function(){$("#accept-terms").is("disabled")===!1&&("Co"==$("#iso").val()?$("#dialog-rg-Co").dialog({modal:"true",width:"940px",open:function(e,o){$(".ui-dialog-titlebar-close",o.dialog).hide()}}):"Pe"==$("#iso").val()||"Usd"==$("#iso").val()?$("#dialog-rg-Pe").dialog({modal:"true",width:"940px",open:function(e,o){$(".ui-dialog-titlebar-close",o.dialog).hide()}}):"Ve"==$("#iso").val()&&$("#dialog-rg-Ve").dialog({modal:"true",width:"940px",open:function(e,o){$(".ui-dialog-titlebar-close",o.dialog).hide()}}))}),i(),$("button#aceptar").on("click",function(){var e=$(this).parent().parent().attr("id");$("#"+e).dialog("close")}),$("#iso").on("change",function(e){pais=$("option:selected",this),acceptance=$("#accept-terms"),acceptance.removeAttr("checked"),this.selectedIndex>0?(acceptance.prop("disabled",!1),$("#condiciones").removeClass("label-disabled")):acceptance.prop("disabled",!0)}),$(".iso2").on("change",function(e){var o=$(".iso2").val();$(".ocultar").hide(),"Co"==o?$("#dialog-rg-Co2").show():"Pe"==o||"Usd"==o?$("#dialog-rg-Pe2").show():"Ve"==o?$("#dialog-rg-Ve2").show():"Ve"==o&&$(".ocultar").hide()}),anioMayorEdad=0,diaActual=0,mesActual=0,anioActual=0,$("#validar").click(function(){$("#loading").show(),$("button").attr("disabled",!0),s(),$("#form-validar").submit(),setTimeout(function(){$("#msg").fadeOut()},5e3);var a=$("#form-validar");if(1==a.valid()){var i,n,l,t,c,u,m,p;i=$("#iso option:selected").val(),n=$("#content-holder").find("#card-number").val(),l=$("#content-holder").find("#card-holder-id").val(),t=$("#content-holder").find("#card-holder-pin").val(),c=$.datepicker.formatDate("ddmmy",new Date),l=$("#content-holder").find("#card-holder-id").val(),id_ext_per1=$("#content-holder").find("#card-holder-id").val(),u=l+""+c,t=t.toUpperCase(),m=hex_md5(t),"Ve"==i?pin_enc=hex_md5(t+n):(cuentaP=n.substring(10,16),pin_enc=hex_md5(t+cuentaP)),country=i,noTarjerta=n,p=new Date,anioActual=p.getFullYear(),mesActual=p.getMonth()+1,diaActual=p.getDate(),anioMayorEdad=parseInt(anioActual-18),n=d.encode(n),l=d.encode(l),$.post(base_url+"/registro/validar",{userName:u,pais:i,cuenta:n,id_ext_per:l,pin:pin_enc,claveWeb:m},function(a){if($("#loading").hide(),$("button").attr("disabled",!1),i=a.pais,0==a.rc){aplicaPerfil=a.user.aplicaPerfil,digVer=a.afiliacion.dig_verificador_aux,"Pe"==i?"N"==a.user.aplicaPerfil?($(".dig-verificador").remove(),$("#contract").remove(),$(".lugar-nacimiento").remove(),$(".verificacion-one").remove(),$(".segments-laborales").remove(),$(".separador-3").remove(),$(".remove-plata-sueldo").remove(),$(".area-telefonos").removeClass("four-segments"),$(".area-telefonos").addClass("two-segments"),$(".nacimiento-mitad").removeClass("inline-list four-segments field-plata"),$(".radio-sexo").removeClass("field-group four-segments"),$(".fecha-nacimiento li").removeClass("field-group-item"),$(".radio-sexo li").removeClass("select-group-item"),$(".fecha-nacimiento").addClass("ul-mitad"),$(".nacimiento-mitad").addClass("ul-mitad"),$(".radio-sexo").addClass("ul-mitad"),$("#content-registro").css("display","block")):"S"==a.user.aplicaPerfil&&($(".verificacion-one").remove(),$("#content-registro").css("display","block"),$.post(base_url+"/registro/listadoDepartamento",{pais:i,subRegion:1},function(e){$("#departamento").empty().append("<option value=''>Cargando...</option>"),0==e.rc?($("#departamento").empty().append("<option value=''>Seleccione</option>"),$.each(e.listaSubRegiones,function(e,o){var a;a="<option value="+o.codregion+"> "+o.region+" </option>",$("#departamento").append(a)})):($("#dialog-cargar-regiones").show(800),$("#invalido3").click(function(){$("#dialog-cargar-regiones").hide("slow")}))}),$("#departamento").change(function(){$("#provincia").empty().append("<option value=''>Cargando...</option>"),$("#distrito").empty().append("<option value=''>-</option>"),""!=this.value?o(this.value,i):$("#provincia").empty().append("<option value=''>-</option>")}),r()):($(".dig-verificador").remove(),$("#contract").remove(),$(".lugar-nacimiento").remove(),$(".verificacion-one").remove(),$(".segments-laborales").remove(),$(".separador-3").remove(),$(".remove-plata-sueldo").remove(),$(".area-telefonos").removeClass("four-segments"),$(".area-telefonos").addClass("two-segments"),$(".nacimiento-mitad").removeClass("inline-list four-segments field-plata"),$(".radio-sexo").removeClass("field-group four-segments"),$(".fecha-nacimiento li").removeClass("field-group-item"),$(".radio-sexo li").removeClass("select-group-item"),$(".fecha-nacimiento").addClass("ul-mitad"),$(".nacimiento-mitad").addClass("ul-mitad"),$(".radio-sexo").addClass("ul-mitad"),$("#content-registro").css("display","block"));for(var n=0;n<51;n++)$(".antiguedad-laboral").append("<option>"+n+"</option>");if("Ve"!=i&&"Co"!=i||($("#first-name").attr("disabled",!1),$("#first-nam").attr("disabled",!1),$("#first-ext-name").attr("disabled",!1),$("#last-name").attr("disabled",!1),$("#last-ext-name").attr("disabled",!1),$("#telefonoFijo").attr("disabled",!1),$("#birth-date").attr("disabled",!1)),$("#content").children().remove(),$("#content").append($("#content-registro").removeAttr("style")).html(),i=a.pais,tipo_doc=a.user.tipo_id_ext_per,nro_doc=a.user.id_ext_per,primer_nombre=a.user.primerNombre,segundo_nombre=a.user.segundoNombre,primer_apellido=a.user.primerApellido,segundo_apellido=a.user.segundoApellido,sexo=a.afiliacion.sexo,fecha_nacimiento=a.user.fechaNacimiento,$("#dia").blur(e),$("#mes").change(e),$("#ano").blur(e),"S"==a.user.aplicaPerfil){lugar_nacimiento=a.afiliacion.lugar_nacimiento,estado_civil=a.afiliacion.edocivil,nacionalidad=a.afiliacion.nacionalidad,aceptaContrato=a.afiliacion.acepta_contrato,"S"===aceptaContrato&&$("#contrato").off("click"),"Pe"==i&&$("#paisResidencia").val("Perú");var l=a.afiliacion.ruc_cto_laboral;$("#ruc").val(l)}$("#paisResidenciaHidden").val(i),$("#listaIdentificadores").val(tipo_doc),$("#holder-id").val(nro_doc),$("#first-name").val(primer_nombre),$("#first-ext-name").val(segundo_nombre),$("#last-name").val(primer_apellido),$("#last-ext-name").val(segundo_apellido),"M"==sexo?$("#gender-male").prop("checked",!0):"F"==sexo&&$("#gender-female").prop("checked",!0);var t=fecha_nacimiento.substring(0,2),s=fecha_nacimiento.substring(3,5),d=fecha_nacimiento.substring(6,10);$("#dia").val(t),$("#mes").val(s),$("#ano").val(d),""!=t&&""!=s&&""!=d&&$("#fecha-de-nacimiento").val(t+"/"+s+"/"+d)}else 2==a.code&&msgService(a.title,a.msn,a.modalType,0)})}else $("#loading").hide(),$("button").attr("disabled",!1)}),$.datepicker.regional.es={closeText:"Cerrar",prevText:"Previo",nextText:"Próximo",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],monthStatus:"Ver otro mes",yearStatus:"Ver otro año",dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],dateFormat:"dd/mm/yy",firstDay:0,initStatus:"Selecciona la fecha",isRTL:!1},$.datepicker.setDefaults($.datepicker.regional.es),$("#birth-date").datepicker(),$("#userpwd").keyup(function(){var e=$(this).val();e.length<8||e.length>15?($("#length").removeClass("rule-valid").addClass("rule-invalid"),longitud=!1):($("#length").removeClass("rule-invalid").addClass("rule-valid"),longitud=!0),e.match(/[A-z]/)?($("#letter").removeClass("rule-invalid").addClass("rule-valid"),mt=!0):($("#letter").removeClass("rule-valid").addClass("rule-invalid"),mt=!1),e.match(/[A-Z]/)?($("#capital").removeClass("rule-invalid").addClass("rule-valid"),cap=!0):($("#capital").removeClass("rule-valid").addClass("rule-invalid"),cap=!1),!e.match(/((\w|[!@#$%])*\d(\w|[!@#$%])*\d(\w|[!@#$%])*\d(\w|[!@#\$%])*\d(\w|[!@#$%])*(\d)*)/)&&e.match(/\d{1}/)?($("#number").removeClass("rule-invalid").addClass("rule-valid"),car=!0):($("#number").removeClass("rule-valid").addClass("rule-invalid"),car=!1),e.match(/(.)\1{2,}/)?($("#consecutivo").removeClass("rule-valid").addClass("rule-invalid"),cons=!1):($("#consecutivo").removeClass("rule-invalid").addClass("rule-valid"),cons=!0),e.match(/([!@\*\-\?¡¿+\/.,_#])/)?($("#especial").removeClass("rule-invalid").addClass("rule-valid"),esp=!0):($("#especial").removeClass("rule-valid").addClass("rule-invalid"),esp=!1),1==longitud&&1==mt&&1==cap&&1==car&&1==cons&&1==esp?$("#registrar").removeAttr("disabled"):$("#registrar").attr("disabled",!0)}).focus(function(){$("#new").showBalloon({position:"right",contents:$("#psw_info")}),$("#psw_info").show()}).blur(function(){$("#new").hideBalloon({position:"right",contents:$("#psw_info")}),$("#psw_info").hide()}),$("#username").blur(function(){usuario=$("#username").val(),username=usuario.toUpperCase(),usuario.match(/[\s]/gi)?$("#loading").hide():($("#loading").show(),$.post(base_url+"/registro/verificar",{usuario:username},function(e){0==e.rc?($("#loading").hide(),$("#registrar").removeAttr("disabled"),$("#username").removeClass("field-error").addClass("field-success")):($("#loading").hide(),$("#username").removeClass("field-success").addClass("field-error"),$("#registrar").attr("disabled",!0),$("#dialogo_disponible").dialog({title:"Usuario no disponible",modal:"true",width:"440px",open:function(e,o){$(".ui-dialog-titlebar-close",o.dialog).hide()}}),$("#disp").click(function(){$("#dialogo_disponible").dialog("close")}))}))}),$("#proteccion").on("click",function(){$(this).off("click"),$("#datos_personales").dialog({title:"PROTECCIÓN DE DATOS PERSONALES",modal:!0,width:"940px",draggable:!1,rezise:!1,open:function(e,o){$(".ui-dialog-titlebar-close",o.dialog).hide()}}),$("#close-datos").click(function(){$("#datos_personales").dialog("close")})}),$("#contrato").on("click",function(){$(this).off("click"),$("#contrato_cuenta").dialog({title:"CONTRATO DE CUENTA DINERO ELECTRÓNICO PLATA BENEFICIOS",dialogClass:"contratos",modal:!0,width:"940px",draggable:!1,rezise:!1,open:function(e,o){$(".ui-dialog-titlebar-close",o.dialog).hide()}}),$(".contratos").css("top","50px"),$("#close-contrato").click(function(){$("#contrato_cuenta").dialog("close")}),$("html, body").animate({scrollTop:$("body").offset().top},0)}),$("#registrar").click(function(){$("#registrar").css("display","none"),s(),$("#form-usuario").submit(),setTimeout(function(){$("#msg").fadeOut()},5e3);var e,o,a,r,i,n,l,t,d,c,u,m,p,v,f,g,b,h,_,C,y,E,x,N,q,w,T,A,k,S,O,P,M,D,j,R,U,V,F,I,L,Q,z,J;if(e=$("#form-usuario"),1==e.valid())if($("#load_reg").show(),o=$("#listaIdentificadores").val(),a=$("#holder-id").val(),r=$("#dig-ver").val(),i=$("#first-name").val(),n=$("#first-ext-name").val(),l=$("#last-name").val(),t=$("#last-ext-name").val(),d=$("#lugar-nacimiento").val(),c=$("#fecha-de-nacimiento").val(),u=$("input[name='genero']:checked").val(),m=$("#edocivil").val(),p=$("#nacionalidad").val(),v=$("#tipoDireccion").val(),f=$("#codigoPostal").val(),g=country,b=$("#departamento").val(),h=$("#provincia").val(),_=$("#distrito").val(),C=$("#text-address").val(),y=$("#email").val(),E=$("#confirm-email").val(),x=$("#telefonoFijo").val(),N=$("#telefonoMovil").val(),q=$("#otroTelefonoSelect option:selected").val(),w=$("#otroTelefonoNum").val(),T=$("#ruc").val(),A=$("#centro-laboral").val(),k=$("#text-situacion").val(),S=$("#antiguedadLaboral").val(),O=$("#ocupacion-laboral option:selected").val(),P=$("#cargo-laboral").val(),M=$("#ingreso").val(),D=$("input[name='desem_publico']:checked").val(),j=$("#cargo-publico").val(),R=$("#institucion").val(),U=$("input[name='uif']:checked").val(),V=$("#username").val(),F=V.toUpperCase(),I=$("#userpwd").val(),L=$("#confirm-userpwd").val(),z=$("#proteccion").is(":checked")?1:0,J=$("#contrato").is(":checked")?1:0,"Ve"==g&&(Q=3),"Co"==g&&(Q=4),"Pe"!=g&&"Usd"!=g||(Q=1),empresa="tebca",empresaU="TEBCA",empresa2="servitebca",empresa2U="SERVITEBCA",!(I.match(/[A-z]/)&&I.match(/[A-Z]/)&&I.match(/([!@\*\-\?¡¿+\/.,_#])/))||I.match(/(.)\1{2,}/)||I.match(empresa)||I.match(empresaU)||I.match(empresa2)||I.match(empresa2U))$("#registrar").fadeIn(),$("#dialogo_oculto").dialog({title:"Contraseña Errónea",modal:"true",width:"440px",open:function(e,o){$(".ui-dialog-titlebar-close",o.dialog).hide()}});else{if(null!=q&&0!=q||(q=""),null!=q&&0!=q||(q=""),"S"==aplicaPerfil)var B={aplicaPerfil:aplicaPerfil,primerNombre:i,segundoNombre:n,primerApellido:l,segundoApellido:t,telefono:x,id_ext_per:a,fechaNacimiento:c,tipo_id_ext_per:Q,lugar_nacimiento:d,sexo:u,edocivil:m,nacionalidad:p,tipo_direccion:v,cod_postal:f,pais:g,departamento:b,provincia:h,distrito:_,direccion:C,correo:y,telefono2:N,otro_telefono:q,telefono3:w,ruc_cto_laboral:T,centrolab:A,situacionLaboral:k,antiguedad_laboral:S,profesion:O,cargo:P,ingreso_promedio_mensual:M,cargo_publico_last2:D,cargo_publico:j,institucion_publica:R,uif:U,userName:F,password:I,notarjeta:noTarjerta,verifyDigit:r,proteccion:z,contrato:J};else var B={aplicaPerfil:aplicaPerfil,primerNombre:i,segundoNombre:n,primerApellido:l,segundoApellido:t,telefono:x,id_ext_per:a,fechaNacimiento:c,tipo_id_ext_per:Q,lugar_nacimiento:d,sexo:u,correo:y,telefono2:N,otro_telefono:q,telefono3:w,userName:F,password:I,pais:g};$.ajax({method:"POST",url:base_url+"/registro/registrar",data:B}).done(function(e){switch(e.code){case 0:var o='<span aria-hidden="true" class="icon-ok-sign"></span>'+e.title;o+='<p>El usuario "'+F+'" '+e.msn+" </p>",$("#content").children().remove(),$("#content").append($("#exito"+e.modalType).removeAttr("style")).html(),$("#message"+e.modalType).append(o);break;case 2:$(location).attr("href",base_url+"/users/error_gral");break;case 3:msgService(e.title,e.msn,e.modalType,0);break;case 4:msgService(e.title,e.msn,e.modalType,1)}})}else $("#registrar").fadeIn()}),$("#otroTelefonoNum").attr("disabled","disabled"),$("#otroTelefonoSelect").on("change",function(){""!=$("#otroTelefonoSelect option:selected").val()?$("#otroTelefonoNum").removeAttr("disabled"):($("#otroTelefonoNum").attr("disabled","disabled"),$("#otroTelefonoNum").val(""))}),$("#cargo-publico").attr("disabled","disabled"),$("#institucion").attr("disabled","disabled"),$("input[name=desem_publico]").on("click",function(){$("#cargo-publico-si").is(":checked")?($("#cargo-publico").removeAttr("disabled"),$("#institucion").removeAttr("disabled")):$("#cargo-publico-no").is(":checked")&&($("#cargo-publico").attr("disabled","disabled"),$("#institucion").attr("disabled","disabled"),$("#cargo-publico").val(""),$("#institucion").val(""))}),$(".label-inline").on("click","a",function(){$("#dialog-tc").dialog({dialogClass:"cond-serv",modal:"true",width:"940px",draggable:!1,open:function(e,o){$(".ui-dialog-titlebar-close",o.dialog).hide()}}),$(".cond-serv").css("top","50px"),$("#ok").click(function(){$("#dialog-tc").dialog("close")})});var d={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var o,a,r,i,n,l,t,s="",c=0;for(e=d._utf8_encode(e);c<e.length;)o=e.charCodeAt(c++),a=e.charCodeAt(c++),r=e.charCodeAt(c++),i=o>>2,n=(3&o)<<4|a>>4,l=(15&a)<<2|r>>6,t=63&r,isNaN(a)?l=t=64:isNaN(r)&&(t=64),s=s+this._keyStr.charAt(i)+this._keyStr.charAt(n)+this._keyStr.charAt(l)+this._keyStr.charAt(t);return s},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var o="",a=0;a<e.length;a++){var r=e.charCodeAt(a);r<128?o+=String.fromCharCode(r):r>127&&r<2048?(o+=String.fromCharCode(r>>6|192),o+=String.fromCharCode(63&r|128)):(o+=String.fromCharCode(r>>12|224),o+=String.fromCharCode(r>>6&63|128),o+=String.fromCharCode(63&r|128))}return o}}});